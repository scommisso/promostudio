@{
    ViewBag.Title = "Build";
}

@section scripts
{
    <script type="text/javascript">
        require(["viewModels/buildViewModel", "jquery", "knockout", "bootstrap", "bootstrapWizard"],
            function (buildVm, $, ko) {
                $(function() {
                    $(document).pjax('div.main-data-container a[data-pjax]', '#build-container')
                    $('#rootwizard').bootstrapWizard({'tabClass': 'nav nav-pills build-nav-pills'});
                });
                var data = {},
                    container = $("div.main-data-container")[0],
                    vm;
                data.TemplateScripts = @Html.Raw(ViewBag.TemplateScriptsJson);
                data.StockVideos = @Html.Raw(ViewBag.StockVideosJson);
                data.StockAudio = @Html.Raw(ViewBag.StockAudioJson);
                data.CustomerResources = @Html.Raw(ViewBag.CustomerResourcesJson);
                vm = new buildVm(data);
                ko.cleanNode(container);
                ko.applyBindings(vm, container);
                vm.SetActive('intro');
            });
    </script>
}

@section headerNav
{
    @Html.Partial("_BuildCrumbs")
}

<a data-pjax href="@Url.Action("Media-Logo", "Build")">Media/Logo</a><br />
<a data-pjax href="@Url.Action("Footage", "Build")">Footage</a><br />
<a data-pjax href="@Url.Action("Script", "Build")">Script</a>

<div id="build-container">
    <div class="loading-message-large"><h1>Loading Designer</h1></div>
    <div class="loader-large"></div>
</div>