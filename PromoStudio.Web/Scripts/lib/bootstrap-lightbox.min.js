+function(n){"use strict";var t=function(t,i){this.options=i,this.$element=n(t),this.$backdrop=null,this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)},i;t.prototype=n.extend({},n.fn.modal.Constructor.prototype),t.prototype.constructor=t,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.show=function(t){var i=this,r=n.Event("show.bs.lightbox",{relatedTarget:t});if(this.$element.trigger(r),!this.isShown&&!r.isDefaultPrevented()){this.isShown=!0,this.escape();this.$element.on("click.dismiss.lightbox",'[data-dismiss="lightbox"]',n.proxy(this.hide,this));this.preloadSize(function(){i.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),u&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),r=n.Event("shown.bs.lightbox",{relatedTarget:t}),u?i.$element.find(".lightbox-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)})})}},t.prototype.hide=function(t){(t&&t.preventDefault(),t=n.Event("hide.bs.lightbox"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented())&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.lightbox"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.lightbox"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){n(document).off("focusin.bs.lightbox").on("focusin.bs.lightbox",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))},t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.lightbox",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.lightbox")},t.prototype.hideModal=function(){var n=this;this.$element.hide(),this.backdrop(function(){n.removeBackdrop(),n.$element.trigger("hidden.bs.lightbox")})},t.prototype.backdrop=function(t){var u=this,r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body);this.$element.on("click.dismiss.lightbox",n.proxy(function(n){n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));if(i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()},t.prototype.preloadSize=function(t){var a=n.Callbacks(),r,s,v,u,f,e,o,h,i,c,l;if(t&&a.add(t),r=this,s=n(window).height(),v=n(window).width(),u=parseInt(r.$element.find(".lightbox-content").css("padding-top"),10),f=parseInt(r.$element.find(".lightbox-content").css("padding-bottom"),10),e=parseInt(r.$element.find(".lightbox-content").css("padding-left"),10),o=parseInt(r.$element.find(".lightbox-content").css("padding-right"),10),h=r.$element.find(".lightbox-content").find("img:first"),h.length<=0)return a.fire();i=new Image,i.onload=function(){i.width+e+o>=v&&(c=i.width,l=i.height,i.width=v-e-o,i.height=l/c*i.width),i.height+u+f>=s&&(c=i.width,l=i.height,i.height=s-u-f,i.width=c/l*i.height),r.$element.find(".lightbox-dialog").css({position:"fixed",width:i.width+e+o,height:i.height+u+f,top:s/2-(i.height+u+f)/2,left:"50%","margin-left":(i.width+e+o)/-2}),r.$element.find(".lightbox-content").css({width:i.width+e+o,height:i.height+u+f}),h.css({width:i.width,height:i.height}),a.fire()},i.src=h.attr("src")},i=n.fn.lightbox,n.fn.lightbox=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.lightbox"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.lightbox",u=new t(this,e)),typeof i=="string"?u[i](r):e.show&&u.show(r)})},n.fn.lightbox.Constructor=t,n.fn.lightbox.noConflict=function(){return n.fn.lightbox=i,this};n(document).on("click.bs.lightbox.data-api",'[data-toggle="lightbox"]',function(t){var i=n(this),r=i.attr("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("lightbox")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());t.preventDefault();u.lightbox(f,this).one("hide",function(){i.is(":visible")&&i.focus()})});n(document).on("show.bs.lightbox",".lightbox",function(){n(document.body).addClass("lightbox-open")}).on("hidden.bs.lightbox",".lightbox",function(){n(document.body).removeClass("lightbox-open")})}(window.jQuery);
//# sourceMappingURL=bootstrap-lightbox.min.js.map